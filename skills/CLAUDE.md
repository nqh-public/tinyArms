# CLAUDE.md

**Inherits From**: `/Users/huy/CODES/nqh/apps/tinyArms/CLAUDE.md`

Development standards for tinyArms skills in `apps/tinyArms/skills/`.

---

## What Are tinyArms Skills?

**NOT Claude Code skills** - These are tinyArms execution units.

**Created using**: `.claude/skills/skill-creator` (Claude Code skill)

**Executed by**:
1. tinyArms orchestrator agent (automatic triggers)
2. User via tinyArms app interface (not built yet)
3. Other AI agents via tinyArms CLI (not built yet)

---

## Two-Phase Approach (Decided 2025-10-30)

### Phase 1: Planning (idea.md)
```
skills/{skill-name}/
└── idea.md          # Decision guide (research → tool selection → pipeline design)
```

**Use for**: Research phase, model comparison, architecture decisions

### Phase 2: Implementation (SKILL.md via skill-creator)
```
skills/{skill-name}/
├── SKILL.md           # Generated by skill-creator (OpenSkills format)
├── config.yaml        # tinyArms runtime config (add manually)
├── executor.ts        # Core logic (TypeScript, add manually)
├── scripts/           # Optional: Executable helpers
├── references/        # Optional: Docs loaded to context
└── assets/            # Optional: Templates/configs
```

**Generate with**:
```bash
python3 .claude/skills/skill-creator/scripts/init_skill.py {skill-name} --path apps/tinyArms/skills
```

**Validate with**:
```bash
python3 .claude/skills/skill-creator/scripts/quick_validate.py apps/tinyArms/skills/{skill-name}
```

---

## idea.md Standards

**Purpose**: Decision guide for tool/model selection, NOT implementation

**Include**:
- Decision flowchart (Mermaid) - Which tools/models for what scenarios
- Tool comparison (from `docs/model-research/`)
- Pipeline options with trade-offs
- Key constraints from research (with line references)
- Open questions requiring validation

**Exclude**:
- Code examples (move to implementation when structure decided)
- Performance estimates (unvalidated guesses)
- Example schemas (fabricated data)
- CLI syntax (not implemented)
- Integration configs (structure undecided)

**Target length**: <250 lines

**Example**: `web-scraper/idea.md` (commit f538631) - 217 lines, decision-focused

---

## Model Research Integration

**Before creating idea.md**:

1. Check existing research:
   ```bash
   ls apps/tinyArms/docs/model-research/*.md
   cat apps/tinyArms/docs/model-research/index.md
   ```

2. If model not researched:
   - Delegate to research agents
   - Follow `docs/model-research/CLAUDE.md` standards
   - Update index.md with new model

3. Reference research in idea.md:
   ```markdown
   ## Key Constraints from Research

   ### NuExtract-1.5-tiny
   - **Context limit**: 8-20k tokens (from nuextract.md:37)
   - **License**: MIT (from nuextract.md:19)
   ```

**Never fabricate benchmarks** - cite or mark "(needs validation)"

---

## SKILL.md Standards (skill-creator)

**Requirements**:
- YAML frontmatter: `name:` (hyphen-case), `description:` (no `<>`)
- Structure patterns: Workflow-Based, Task-Based, Capabilities-Based, or Reference
- Must pass: `quick_validate.py`

**Choose structure pattern**:
1. **Workflow-Based**: Sequential processes (## Overview → ## Workflow Decision Tree → ## Step 1/2/3)
2. **Task-Based**: Tool collections (## Overview → ## Quick Start → ## Task 1/2/3)
3. **Capabilities-Based**: Feature showcase (## Overview → ## Core Capabilities → ## Integration Points)
4. **Reference**: Standards/specs (## Overview → ## Guidelines → ## Specifications)

**Resource directories** (delete if unused):
- `scripts/` - Executable helpers (NOT loaded to context)
- `references/` - Docs loaded to context (API refs, schemas)
- `assets/` - Templates/configs (NOT loaded to context)

**See**: `.claude/skills/skill-creator/SKILL.md` for full guidance

---

## Examples

### web-scraper (Phase 1 only)
**What exists**:
- `idea.md` (217 lines) - Decision guide for HTML→Markdown→JSON pipeline

**Status**: Planning phase, not ready for skill-creator yet

### code-linting (Phase 2 generated)
**What exists**:
- `SKILL.md` (generated, needs TODOs replaced)
- `scripts/`, `references/`, `assets/` (placeholders)

**Next steps**: Edit SKILL.md, add config.yaml, migrate linter.ts to executor.ts

---

## References

- **Parent CLAUDE.md**: `apps/tinyArms/CLAUDE.md`
- **Model research**: `docs/model-research/`
- **skill-creator**: `.claude/skills/skill-creator/` (creates these skills)
- **Example skill**: `web-scraper/` (only idea.md exists)

---

**Last Updated**: 2025-10-30
**Status**: Two-phase approach adopted - idea.md (planning) + SKILL.md (implementation)
